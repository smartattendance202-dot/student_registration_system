
## 📊 مواصفات قاعدة البيانات النهائية

### الجداول المنشأة:

#### 1. جدول المستخدمين (users)
```sql
- id: معرف المستخدم (مفتاح رئيسي)
- email: البريد الإلكتروني (فريد)
- phone: رقم الجوال اليمني (+967xxxxxxxxx)
- password_hash: كلمة المرور المشفرة
- role: دور المستخدم (student فقط)
- is_active: حالة النشاط (boolean)
- created_at: تاريخ التسجيل
```

#### 2. جدول الطلبات (applications)
```sql
- id: معرف الطلب (مفتاح رئيسي)
- user_id: معرف المستخدم (مفتاح خارجي)
- application_number: رقم الطلب للمستخدم (1-5)

# البيانات الشخصية
- full_name: الاسم الكامل
- birth_date: تاريخ الميلاد
- gender: الجنس (male/female)
- nationality: الجنسية
- birthplace: مكان الميلاد

# بيانات الاتصال
- phone: رقم الجوال اليمني
- email: البريد الإلكتروني (اختياري)

# البيانات الأكاديمية
- term_name: اسم الفصل الدراسي
- school_name: اسم المدرسة

# بيانات ولي الأمر
- guardian_name: اسم ولي الأمر
- guardian_phone: جوال ولي الأمر اليمني

# الصور الشخصية (5 صور)
- image1_path: مسار الصورة الأولى
- image2_path: مسار الصورة الثانية
- image3_path: مسار الصورة الثالثة
- image4_path: مسار الصورة الرابعة
- image5_path: مسار الصورة الخامسة

# معلومات التسجيل
- created_at: تاريخ التقديم
- updated_at: تاريخ آخر تحديث
```

## 👤 البيانات التجريبية

### المستخدم التجريبي:
- **البريد الإلكتروني**: `student@test.com`
- **كلمة المرور**: `student123`
- **رقم الجوال**: `+967712345678`
- **الدور**: `student`

### الطلب التجريبي:
- **الاسم**: أحمد محمد الحوثي
- **تاريخ الميلاد**: 2005-05-15
- **الجنسية**: يمني
- **مكان الميلاد**: صنعاء
- **المدرسة**: ثانوية الثورة
- **ولي الأمر**: محمد أحمد الحوثي (+967712345679)
- **رقم الطلب**: 1 من 5

## 📁 المجلدات المنشأة

```
uploads/
└── applications/    # مجلد الصور الشخصية
```

## 🔐 الأمان

- **كلمات المرور**: مشفرة باستخدام Werkzeug
- **قاعدة البيانات**: SQLite محمية في مجلد instance
- **الملفات**: محفوظة في مجلد uploads منفصل
- **النسخ الاحتياطية**: تُنشأ تلقائياً مع الطابع الزمني

## 🔄 النسخ الاحتياطية

عند استخدام `reset_database.py`، يتم إنشاء نسخة احتياطية تلقائياً:

```
instance/
├── student_registration.db                    # قاعدة البيانات الحالية
└── student_registration_backup_YYYYMMDD_HHMMSS.db  # النسخة الاحتياطية
```

## ⚠️ ملاحظات مهمة

1. **البيانات دائمة**: لا توجد مؤقتات أو انتهاء صلاحية
2. **لا توجد مجدولة**: النظام لا يحتاج تنظيف تلقائي
3. **أرقام يمنية فقط**: +967xxxxxxxxx
4. **5 صور شخصية**: مطلوبة لكل طلب
5. **حد أقصى 5 طلبات**: لكل طالب

## 🛠️ استكشاف الأخطاء

### إذا فشل إنشاء قاعدة البيانات:
```bash
# تأكد من تثبيت المتطلبات
pip install -r requirements.txt

# تأكد من وجود مجلد instance
mkdir instance

# جرب إعادة التعيين الكاملة
python reset_database.py full
```

### إذا كانت قاعدة البيانات تالفة:
```bash
# احذف قاعدة البيانات وأعد إنشاءها
rm instance/student_registration.db
python create_database.py create
```

## 📞 الدعم

إذا واجهت مشاكل:
1. تأكد من تثبيت جميع المتطلبات
2. تحقق من صلاحيات الكتابة في مجلد المشروع
3. راجع رسائل الخطأ في terminal
4. جرب إعادة التعيين الكاملة

---

**جميع السكريبتات جاهزة للاستخدام الفوري! 🚀**
